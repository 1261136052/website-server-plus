define("wkcommon:widget/header/category/category.js",function(t,o,e){var a=function(){function t(t){for(var o={content:"",optarr:[]},e=0;e<t.length;e++){var a=e+1===t.length?"tob-home-left last":"tob-home-left",n=['<dl class="'+a+'">',"<dt>","<a>",t[e].title,"</a>","</dt>","<dd></dd>","</dl>"].join("");o.content=o.content+n;for(var r="",i=t[e].options,l=0;l<i.length;l++){var d='style="position:relative;"',f='style="position: absolute;top: -11px;right: -20px;"',s='class="ui-bz-'+i[l].type+'-ic"';r+=['<a href="'+i[l].url+'" '+d+' target="_blank">',i[l].title,"<span "+s+" "+f+"></span>","</a>"].join("")
}o.optarr.push(r)}$(".home-left-third").after(o.content),$(".tob-home-left").each(function(t){$(this).find("dd").html(o.optarr[t])})}$.ajax({url:"/xpage/form/getform?id=tob_home_left",success:function(o){if(0===o.status.code){var e=o.data.form_data&&o.data.form_data.model;e&&e.length>0&&t(e)}},error:function(){}})};e.exports=a});
;define("wkcommon:widget/header/org_data_layer/org_data_layer.js",function(a,e,n){var s=a("wkcommon:widget/ui/lib/jquery/jquery.js"),o=a("wkcommon:widget/ui/js_core/log/log.js"),p={layerTemplate:'<div id="org-data-layer"><h2>__MONTH__\u6708\u5df2\u6536\u76ca\uff1a</h2><span class="close"></span><p>\u6d4f\u89c8\u91cf\uff1a<span class="org-num">__VIEW__<span>&nbsp;\u6b21</span></span></p><p>\u4e0b\u8f7d\u91cf\uff1a<span class="org-num">__DOWNLOAD__<span>&nbsp;\u6b21</span></span></p><p>\u552e\u5356\u91d1\u989d\uff1a<span class="org-num">__INCOME__<span>&nbsp;\u5143</span></span></p><span class="arrow"></span></div>',layerTemplateWithoutIncome:'<div id="org-data-layer"><h2>__MONTH__\u6708\u5df2\u6536\u76ca\uff1a</h2><span class="close"></span><p>\u6d4f\u89c8\u91cf\uff1a<span class="org-num">__VIEW__<span>&nbsp;\u6b21</span></span></p><p>\u4e0b\u8f7d\u91cf\uff1a<span class="org-num">__DOWNLOAD__<span>&nbsp;\u6b21</span></span></p><span class="arrow"></span></div>',option:{getDataUrl:"/org/interface/dailytip",closeDataUrl:"/org/interface/dailytip?cancel=1"},init:function(a){var e=this;
s.get(e.option.getDataUrl,function(n){0===+n.status.code&&e.showLayer(+a,n.data.view_count,n.data.download_count,n.data.income)}),s("body").on("click","#org-data-layer",function(){e.cancelLayer(),window.open("/user/browse/bgcdatacenter"),o.xsend(1,100360,{index:7})}),s("body").on("click","#org-data-layer .close",function(a){e.cancelLayer(),a.stopPropagation()})},showLayer:function(a,e,n,p){var t=s("#nav-myWenku").offset(),_="";_=a?this.layerTemplate.replace("__VIEW__",e).replace("__DOWNLOAD__",n).replace("__INCOME__",p).replace("__MONTH__",(new Date).getMonth()+1):this.layerTemplateWithoutIncome.replace("__VIEW__",e).replace("__DOWNLOAD__",n).replace("__MONTH__",(new Date).getMonth()+1);
var r=s(_).css({left:t.left+"px",top:t.top+29+"px"});s("body").append(r),o.xsend(1,100360,{index:6})},cancelLayer:function(){var a=this;s.get(a.option.closeDataUrl,function(){s("#org-data-layer").hide()})}};n.exports=p});
;define("wkcommon:widget/header/search_box/search_box.js",function(e){var o=e("wkcommon:widget/lib/tangram/base/base.js"),t=(e("wkcommon:widget/ui/js_core/util/util.js"),e("wkcommon:widget/ui/js_core/Suggestion/Suggestion.js").Suggestion),n=e("wkcommon:widget/ui/js_core/log/log.js"),i=e("wkcommon:widget/ui/lib/jquery/jquery.js"),s=e("wkcommon:widget/ui/lib/cookie/cookie.js"),r=e("wkcommon:widget/lib/fis/data/data.js"),a=e("wkcommon:widget/ui/js_core/xform/xform.js"),c=(e("wkcommon:widget/ui/lib/jquery_xdomainrequest/xdomainrequest.js"),e("wkcommon:widget/ui/js_core/_dialog/_dialog.js")),u=e("wkcommon:widget/ui/js_core/login/login.js").login,d=e("wkcommon:widget/feedback/feedback.js"),p=r;
i(".s_ipt").on("focus",function(){i(this).closest(".s_ipt_wr").addClass("focus")}).on("blur",function(){i(this).closest(".s_ipt_wr").removeClass("focus")}),i(".type-check").on("click",function(){n.xsend(1,100331)}),i(".hoilday-logo").length&&n.xsend(1,100611);var l=!1;i(function(){function e(e){i("#banurl").attr("href","javascript:void(0)").attr("target","_self");var o=c.customDialog;i("#banurl").on("click",function(){new o({width:822,height:914,autoshow:!0,innerId:"page-banner-new-ad-dialog",content:['<img src="'+e+'" style="height:100%"/>>','<div class="dialog-close"></div>'].join(""),closeSelector:".dialog-close",mask:{opacity:.75}})
})}function v(e){if(e){var o=new Image;return o.src=e,o}}function h(e){var o=[];if(l)return e;if(l=!0,b&&b.isshow){var t=['<div class="vip-suggestion" data-link="'+b.link+'">','<b class="top b" style="background-color: #ff6600; font-size: 13px;">\u8350</b>',"<span>"+b.title+"</span></div>"].join("");o.push({value:t,content:t,disableFill:!0});for(var n=0;n<e.length;n++)o.push({value:e[n],content:e[n]})}else o=e;return i.each(k,function(e,t){if(t&&t.isshow){var n=['<div class="vip-suggestion" data-link="'+t.link+'">','<b class="top b" style="background-color: #ff6600; font-size: 13px;">\u8350</b>',"<span>"+t.title+"</span></div>"].join("");
o.splice(e,0,{value:n,content:n,disableFill:!0})}}),o}var w=o.g("favorite");w&&o.event.on(w,"click",function(e){if(window.sidebar||window.opera)return!0;try{window.external.AddFavorite("https://wenku.baidu.com/","\u767e\u5ea6\u6587\u5e93")}catch(e){alert("\u6211\u592a\u6ca1\u7528\u4e86\uff0c\u6ca1\u80fd\u6dfb\u52a0\u6210\u529f\uff0c\u8bf7\u60a8\u6309\u952e\u76d8\u4e0a\u7684Ctrl+D \u624b\u52a8\u6dfb\u52a0\u5427")}return o.event.stop(e),!1});var m,f={slotid:"18"};i.ajax({type:"POST",url:"//eduad.baidu.com/bidding/wenku_post_json",data:JSON.stringify(f),contentType:"text/plain",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,timeout:1e3,beforeSend:function(){m=(new Date).getTime()
},dataType:"json",success:function(o){if(o&&o.banner&&o.banner.mainimg){var t=o.banner.clickurl||"",s=o.banner.impurl||"",r=o.banner.mainimg.url||"",a="url("+r+") no-repeat right center";"https://edu-ad-test-cdn.cdn.bcebos.com/fc74ebdb861ab3ac45ee0dcd4e98e9e2/b41ffb47919fe296c53b20ea9437c74c.jpg"===r?e(t):i("#banurl").attr("href",t),i("#banurl").css("background",a),v(s),n.xsend(1,101282,{action_type:"display",slot_id:18,index:1})}else{var a="url(//gss0.bdstatic.com/7LsWdDW5_xN3otebn9fN2DJv/doc/abpic/item/0b46f21fbe096b63cb6b96e100338744ebf8ac15.jpg) no-repeat right center",c="//wenku.baidu.com/activity/browse/studysubject?ch=neworiamerica&adredirectfr=https%3A%2F%2Fwenku.baidu.com%2F";
i("#banurl").attr("href",c).addClass("default-data").css("background",a)}var u=(new Date).getTime(),d=u-m;n.xsend(1,101282,{action_type:"display",slot_id:18,time:d,index:2})},error:function(){var e="url(//gss0.baidu.com/7LsWdDW5_xN3otqbppnN2DJv/doc/pic/item/a8773912b31bb05142d6c1003f7adab44aede02c.jpg) no-repeat right center",o="//wenku.baidu.com/org/zone?zoneid=5";i("#banurl").attr("href",o).addClass("default-data").css("background",e),n.xsend(1,101282,{action_type:"error",slot_id:18,index:3})}});
var g=(i("#kw").val(),[]);a.getJSON("search_suggestion",{success:function(e){e.keywords.length&&(g=e.keywords)}});var b={},k=[];a.getJSON("wk_vip_suggesstion",{success:function(e){e.ViewVipquery&&(b=e.ViewVipquery),e.NewViewVipquery&&(k=e.NewViewVipquery)}}),a.getJSON("2020_index_classification",{success:function(e){n.xsend(1,102899,{type:"show",position:"box"});var o="";i.each(e.docs,function(e,t){o+='<div class="doc-item" data-href="'+t.url+'">'+t.className+"</div>"}),i(".tab-content .doc-hover .doc-list").append(o),i(".tab-content .doc-hover .doc-list .doc-item").on("click",function(){var e=i(this).data("href");
window.open(e)})}}),i.ajax({url:"/customer/interface/vipinfo",type:"GET",cache:!1,data:{type:7},success:function(e){var o="NEW";if(e.status&&0===e.status.code){var t=e.data&&e.data.vip_1,s=e.data&&e.data.vip_2,r=e.data&&e.data.vip_4,c=t.end_time,u=s.end_time,d=r.end_time,p=t.vip_status,l=s.vip_status,v=r.vip_status,h=e.data&&e.data.is_new_user,w=!1;(p||l||v)&&(w=!0);var m=Math.max(c,u,d),f=(m-(new Date).getTime()/1e3)/60/60/24,g=Math.ceil(Math.abs(f));h&&(o="NEW"),w||(o="NOVIP"),!w&&10>=g&&(o="EXPIRED"),!w&&1>=g&&(o="EXPIREDAY"),w&&(o="VIP"),w&&7>=g&&(o="DUESOON")
}w?i(".active-content .user-wrapper .user-avatar").addClass("is-vip"):i(".active-content .user-wrapper .user-avatar").removeClass("is-vip"),a.getJSON("header_vip_content",{success:function(e){var t=e[o],s=t.iconTitle,r=t.title||"";r=-1!==r.indexOf("{{day}}")?r.replace("{{day}}",g):r;var a=t.btnText,c=t.adImg||"";i(".active-content .vip-wrapper .content-vip").append(s),c?(i(".active-content .vip-wrapper .vip-hover .vip-img-wrapper .vip-img").css("background-image","url("+c+")"),i(".active-content .vip-wrapper .vip-hover .vip-img-wrapper").show()):i(".active-content .vip-wrapper .vip-hover .vip-img-wrapper").hide(),r?(i(".active-content .vip-wrapper .vip-hover .vip-desc").append(r),i(".active-content .vip-wrapper .vip-hover .vip-desc").show(),i(".active-content .vip-wrapper .vip-hover .vip-desc-icon").hide(),i(".active-content .vip-wrapper .vip-hover").removeClass("min")):(i(".active-content .vip-wrapper .vip-hover .vip-desc").hide(),i(".active-content .vip-wrapper .vip-hover .vip-desc-icon").show(),c||i(".active-content .vip-wrapper .vip-hover").addClass("min")),i(".active-content .vip-wrapper .vip-hover .vip-btn").append(a),i(".active-content .vip-wrapper .vip-hover .vip-btn").on("click",function(){var e="\u7acb\u5373\u5f00\u901aVIP"===a?"ViewVipcardNewtopKt":"ViewVipcardNewtopXf";
location.href="https://wenku.baidu.com/ndcashier/browse/jiaoyuvipcashier?cashier_code="+e,n.xsend(1,102899,{type:"click",position:"vipbtn"})})}})}}),i.ajax({url:"/user/interface/getuserdoc2019",type:"GET",data:{},success:function(e){if(!e.data||!e.data.userInfo||e.data.userInfo.isLogin!==!1){var o="";if(e.status&&0===e.status.code){var t=e.data&&e.data.view||[];t.length?(t=t.length>6?t.slice(0,6):t,i.each(t,function(e,t){o+='<div class="history-doc read-doc" id="type-'+t.type+'" data-docId="'+t.doc_id+'">'+t.title+"</div>"
}),o+='<div class="more-button">\u67e5\u770b\u66f4\u591a</div>'):(o="\u6682\u65e0\u6d4f\u89c8\u8bb0\u5f55",i(".active-content .history-wrapper .history-hover").addClass("no-read")),i(".active-content .history-wrapper .history-hover").append(o);var s=null;i(".active-content .history-wrapper").on("mouseover",function(){i(".history-hover").addClass("show"),i(".active-content .vip-wrapper .vip-hover").removeClass("show"),i(".tab-content .doc-hover").removeClass("show"),i(".user-wrapper .user-hover").removeClass("show"),n.xsend(1,102899,{type:"show",position:"historyhint"})
}).on("mouseleave",function(){s&&(clearTimeout(s),s=null),s=setTimeout(function(){i(".history-hover").removeClass("show")},100)}),i(".active-content .history-wrapper .history-hover").on("mouseover",function(){s&&(clearTimeout(s),s=null),i(this).addClass("show")}).on("mouseleave",function(){i(this).removeClass("show")}),i(".history-wrapper .history-hover .read-doc").on("click",function(){var e=i(this).data("docid");window.open("https://wenku.baidu.com/view/"+e),n.xsend(1,102899,{type:"click",position:"history",docid:e})
}),i(".active-content .history-wrapper .more-button").on("click",function(){window.open("https://wenku.baidu.com/nduc/browse/uc?_page=home&_redirect=1#/home"),n.xsend(1,102899,{type:"click",position:"historymore"})})}}}});var y=null,x=new t({view:function(e){var t=6==o.browser.ie||7==o.browser.ie,n=void 0!=o.browser.chrome,s=389;i("#topSearchBox .s_ipt_wr").length>0&&(s=i("#topSearchBox .s_ipt_wr").width()+8);var r="/search"===location.pathname?539:s;return{top:e.top+(t?5:6),left:e.left-(n?9:9),width:r}
},bindFcEvent:function(){var e=this;i(window).on("getFcSugData",function(o,t){e.callback(t)})},getData:function(e){var t="https://www.baidu.com/sugrec?prod=open_wenku&oe=gb18030&wd=";o.sio.callByServer(t+encodeURIComponent(e)+"&t="+Math.random(),function(e){i.event.trigger("getFcSugData",e||[])},{queryField:"cb"})},onconfirm:function(){var e=o.g("kw").form;if(!e.onsubmit||e.onsubmit()!==!1){var t=1;i.event.trigger("fcSugLog",{index:t}),e.submit()}},onbeforepick:function(e){return function(t){e.innerHTML=t.data.item.content,t.data.item.content=t.data.item.value=o.dom.getText(e)
}}(document.createElement("div")),callback:function(e){var t=this;y&&y.hide();for(var n=0;n<g.length;n++)if(e.q.indexOf(g[n])>=0)return t.hide(),!1;{var i=e.g||[],s=e.q||[],r=[];i.length}o.array.each(i,function(e,o){"/new"===location.pathname&&o>=4||r.push(s&&-1!==e.q.indexOf(s)?e.q.replace(s,"<b>"+s+"</b>"):"<b>"+e.q+"</b>")}),x.show(s,r,!1,!0)}});x.render(o.g("kw"));var _=0;y=new t({view:function(e){var t=6==o.browser.ie||7==o.browser.ie,n=void 0!=o.browser.chrome,s=389;i("#topSearchBox .s_ipt_wr").length>0&&(s=i("#topSearchBox .s_ipt_wr").width()+8);
var r="/search"===location.pathname?539:s;return{top:e.top+(t?5:6),left:e.left-(n?9:9),width:r}},onconfirm:function(e){var t=e.data.item.content;if(-1===t.indexOf('class="vip-suggestion"')){var n=o.g("kw").form;if(!n.onsubmit||n.onsubmit()!==!1){setTimeout(function(){n.submit()},100);var s=1;i.event.trigger("fcSugLog",{index:s})}}},onbeforepick:function(e){return function(t){var s=t.data.item.content;if(-1!==s.indexOf('class="vip-suggestion"')){var r=i(".vip-suggestion").eq(t.data.index).data("link");
return n.xsend(1,102501,{from:"view"}),e.innerHTML="",location.href=r,t.data.item.value="",!1}var a=t.data.index;b&&b.isshow&&(a-=1),parseInt(a)>=0&&parseInt(a)<=9&&n.xsend(1,100054,{index:parseInt(a)+1,pcSearchStyleTestType:window.pcSearchStyleTestType}),s=i(t.data.item.value)[1].innerText,e.innerHTML=s,t.data.item.content=t.data.item.value=o.dom.getText(e)}}(document.createElement("div")),onshow:function(){0===_&&(_=1,n.xsend(1,102502,{from:"view",pcSearchStyleTestType:window.pcSearchStyleTestType}))
}}),y.render(o.g("kw"));var C=r.get("hotword")||[],T=[],j=[],S="";if(C.length>0){for(var I=0,D=0;D<C.length;D++)S=3>D?'<b class="top b">'+(D+1)+"</b>":'<b class="b">'+(D+1)+"</b>",S=S+'<span class="word-content">'+C[D].content+"</span>",1===C[D].isnew&&(T.push(C[D].content),S+='<span class="newhotword">\u65b0\uff01</span>',I++),j.push(S);var N=0;if(i(document).on("click",function(e){var o=e.target.className;"arrow-box"===o&&0===N?(i(".arrow-box").addClass("arrow-box-show"),y.show("word",h(j)),N=1):(i(".arrow-box").removeClass("arrow-box-show"),N=0)
}),s.get("wk_hotsearchword")){for(var q=s.get("wk_hotsearchword").split("&"),D=0;D<T.length;D++)if(T[D]!==q[D]){i(".hot-box").text(I),i(".hot-box").removeClass("hide");break}}else i(".hot-box").text(I),i(".hot-box").removeClass("hide");i(".hot-box").on("click",function(){y.show("word",h(j)),i(".hot-box").addClass("hide"),T=T.join("&"),s.set("wk_hotsearchword",T,{expires:31536e6})})}else i(".hot-box").addClass("hide"),i(".arrow-box").addClass("hide");var E=o.g("kw"),O=o.g("kw-plhd"),V=o.string.trim(o.dom.getAttr(E,"data-default"));
""!=V&&function(){function e(){""==o.string.trim(E.value)&&o.dom.setStyle(O,"display","inline")}o.on(E,"focus",function(){o.dom.setStyle(O,"display","none")}),o.on(E,"blur",e),o.on(O,"click",function(){E.focus()}),o.on(o.g("topSearchBox"),"submit",function(){""==o.string.trim(E.value)&&(o.dom.setStyle(O,"display","none"),E.value=V)}),e()}(),i(".s_ipt").on("focus",function(){y&&o.string.trim(i(".s_ipt").val()).length<=0&&y.show("word",h(j))}).on("blur",function(){y&&y.hide()}).on("input propertychange",function(){y&&o.string.trim(i(".s_ipt").val()).length<=0&&setTimeout(function(){y.show("word",h(j))
},100)}),i(".sp-xs-tips").on("mousedown",function(){var e=i(this);if(document.getElementById("kw").value){var o=String(document.getElementById("kw").value).replace(/[#%&+=\/\\\ \u3000\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()});o=encodeURIComponent(document.getElementById("kw").value),e.attr("href","/ndtopic/legion?fr=home&keyword="+o)}i(this).addClass("sp-xs-tips_mousedown")}).on("mouseout",function(){i(this).removeClass("sp-xs-tips_mousedown")
}).on("mouseup",function(){i(this).removeClass("sp-xs-tips_mousedown")}),i(".s_btn_wr_click").on("mousedown",function(){var e=3;i.event.trigger("fcSugLog",{index:e}),i(this).addClass("s_btn_wr_mousedown");var o=E.value,t=Math.floor((new Date).getTime()/1e3),s="https://wenku.baidu.com/search?"+i.param({word:o,lm:0,od:0,ie:"utf-8"});location.href=s,n.xsend(1,102899,{type:"click",position:"search"}),i.ajax({url:"/user/interface/jiaoyusearch",type:"GET",data:{source:"pc",action:"set",mark:o+":"+t},timeout:5e3,error:function(){console.log("\u8bf7\u6c42\u51fa\u9519(\u8bf7\u68c0\u67e5\u76f8\u5173\u5ea6\u7f51\u7edc\u72b6\u51b5.)")
}})}).on("mouseup",function(){i(this).removeClass("s_btn_wr_mousedown")}).on("mouseout",function(){i(this).removeClass("s_btn_wr_mousedown")}),o.event.on(o.g("kw"),"keydown",function(e){var t=o.event.getKeyCode(e);13===t&&i(".s_btn_wr_click").trigger("mousedown")});var B=o.g("login"),F=o.g("logout");if(B&&o.on(B,"click",function(e){u.log(),n.xsend(1,102899,{type:"click",position:"login"}),setTimeout(function(){var e=o.dom.q("pass_login_form","login-normal","form")[0];if(e)var t=e.u;var n=encodeURI(location.href).replace(/[#?].*$/g,""),i="from_mod=user_bar";
t&&(n+=-1===n.indexOf("?")?"?"+i:"&"+i,t.value=n)},500),o.event.preventDefault(e)}),F){var L=location.href;p.get("logined_page")&&(L=p.get("logout_url")&&"string"==typeof p.get("logout_url")?p.get("logout_url"):"https://wenku.baidu.com"),F.href="https://passport.baidu.com/?logout&aid=7&u="+escape(L);var M=document.location.pathname,P=o.cookie.get("BDUSS"),J={homepage:/^\/$/i,edu:/^\/edu\/index$/i,ppt:/^\/ppt\/index$/i,pro:/^\/pro\/index$/i,form:/^\/form\/index$/i,org:/^\/org\//i,topic:/^\/topic$/i,search:/^\/search/i,catelist:/^\/list\//i,hotlist:/^\/hotlist/i,upload:/^\/new/i,submit:/^\/submit/i,view:/^\/view\//i,userlist:/^\/userlist\//i,latest:/^\/latest/i,album:/^\/album\//i,usercenter:/^\/(room|user\/)/i};
for(var $ in J)if(J.hasOwnProperty($)){var A=J[$];A.test(M)&&P&&F.setAttribute("data-logsend",'{"send":["general","logout",{"refer":"'+$+'", "bduss":"'+P+'"}]}')}}i(".client-wrapper .icon-client-download").on("mouseover",function(){i(this).addClass("img-hover"),i(".content-client").addClass("content-hover")}).on("mouseleave",function(){i(this).removeClass("img-hover"),i(".content-client").removeClass("content-hover")}),i(".history-wrapper .icon-history").on("mouseover",function(){i(this).addClass("img-hover"),i(".content-history").addClass("content-hover")
}).on("mouseleave",function(){i(this).removeClass("img-hover"),i(".content-history").removeClass("content-hover")}),i(".user-wrapper .icon-login").on("mouseover",function(){i(this).addClass("img-hover"),i(".content-login").addClass("content-hover"),i(".user-hover").addClass("show")}).on("mouseleave",function(){i(this).removeClass("img-hover"),i(".content-login").removeClass("content-hover"),i(".user-hover").removeClass("show")});var R=null;i(".user-wrapper .user-avatar").on("mouseover",function(){i(".user-hover").addClass("show"),i(".active-content .vip-wrapper .vip-hover").removeClass("show"),i(".active-content .history-wrapper .history-hover").removeClass("show"),i(".tab-content .doc-hover").removeClass("show"),n.xsend(1,102899,{type:"show",position:"userhint"})
}).on("mouseleave",function(){R&&(clearTimeout(R),R=null),R=setTimeout(function(){i(".user-hover").removeClass("show")},100)}),i(".user-wrapper .user-hover").on("mouseover",function(){R&&(clearTimeout(R),R=null),i(this).addClass("show")}).on("mouseleave",function(){i(this).removeClass("show")});var U=null;i(".tab-content .tab-doc").on("mouseover",function(){i(".doc-hover").addClass("show"),i(".user-wrapper .user-hover").removeClass("show"),i(".active-content .vip-wrapper .vip-hover").removeClass("show"),i(".active-content .history-wrapper .history-hover").removeClass("show"),n.xsend(1,102899,{type:"show",position:"dochint"})
}).on("mouseleave",function(){U&&(clearTimeout(U),U=null),U=setTimeout(function(){i(".doc-hover").removeClass("show")},100)}),i(".tab-content .doc-hover").on("mouseover",function(){U&&(clearTimeout(U),U=null),i(this).addClass("show")}).on("mouseleave",function(){i(this).removeClass("show")});var W=null;i(".active-content .vip-wrapper").on("mouseover",function(){i(".vip-hover").addClass("show"),i(".user-wrapper .user-hover").removeClass("show"),i(".active-content .history-wrapper .history-hover").removeClass("show"),i(".tab-content .doc-hover").removeClass("show"),n.xsend(1,102899,{type:"show",position:"viphint"})
}).on("mouseleave",function(){W&&(clearTimeout(W),W=null),W=setTimeout(function(){i(".vip-hover").removeClass("show")},100)}),i(".active-content .vip-wrapper .vip-hover").on("mouseover",function(){W&&(clearTimeout(W),W=null),i(this).addClass("show")}).on("mouseleave",function(){i(this).removeClass("show")}),i(".tab-content .tab-home-page").on("click",function(){location.href="https://wenku.baidu.com",n.xsend(1,102899,{type:"click",position:"home"})}),i(".tab-content .tab-video").on("click",function(){location.href="https://wenku.baidu.com/videohome",n.xsend(1,102899,{type:"click",position:"video"})
}),i(".tab-content .tab-audio").on("click",function(){location.href="https://wenku.baidu.com/audiohome",n.xsend(1,102899,{type:"click",position:"audio"})}),i(".tab-content .tab-essay").on("click",function(){location.href="https://wenku.baidu.com/docpackhome",n.xsend(1,102899,{type:"click",position:"pack"})}),i(".active-content .client-wrapper").on("click",function(){window.open("https://wenku.baidu.com/pcactivity/landingPage"),n.xsend(1,102899,{type:"click",position:"client"})}),i(".active-content .vip-hover .vip-center").on("click",function(){window.open("https://wenku.baidu.com/vip"),n.xsend(1,102899,{type:"click",position:"vipcenter"})
}),i(".active-content .vip-hover .vip-welfare").on("click",function(){window.open("https://wenku.baidu.com/ndwelfare/membercenter/welfarecenter"),n.xsend(1,102899,{type:"click",position:"welfarecenter"})}),i(".active-content .vip-hover .vip-free").on("click",function(){window.open("https://wenku.baidu.com/ndvipmember/browse/newvipfreedoczone"),n.xsend(1,102899,{type:"click",position:"vipfree"})}),i(".active-content .vip-hover .vip-privilege").on("click",function(){window.open("https://wenku.baidu.com/ndvipmember/browse/vipprivilege"),n.xsend(1,102899,{type:"click",position:"vipprivilege"})
}),i(".active-content .history-wrapper").on("click",function(){u.verlogin(function(){},function(){u.log(),n.xsend(1,102899,{type:"click",position:"notLoginHistory"})})}),i(".user-wrapper .user-hover .user-center").on("click",function(){window.open("https://wenku.baidu.com/nduc/browse/uc?_page=home&_redirect=1#/home"),n.xsend(1,102899,{type:"click",position:"usercenter"})}),i(".user-wrapper .user-hover .vip-center").on("click",function(){window.open("https://wenku.baidu.com/ndvipmember/browse/index"),n.xsend(1,102899,{type:"click",position:"vipcenter"})
}),i(".user-wrapper .user-hover .user-message").on("click",function(){window.open("https://wenku.baidu.com/user/mymessage"),n.xsend(1,102899,{type:"click",position:"usermsg"})}),i(".user-wrapper .user-hover .user-favorite").on("click",function(){window.open("https://wenku.baidu.com/user/collection?st=1"),n.xsend(1,102899,{type:"click",position:"usercollection"})}),i(".user-wrapper .user-hover .user-feedback").on("click",function(){d.loadRightBar(),n.xsend(1,102899,{type:"click",position:"feedback"})
}),i(".user-wrapper .user-hover .user-logout").on("click",function(){n.xsend(1,102899,{type:"click",position:"loginout"})}),i(".top-search-box .media").on("click",function(){n.xsend(1,102899,{type:"click",position:"logo"})})})});
;define("wkcommon:widget/header/search_box/setQuery/setQuery.js",function(e,t,o){var s=e("wkcommon:widget/ess/getEssQuery.js"),n=e("wkcommon:widget/ui/js_core/xform/xform.js"),r=e("wkcommon:widget/ui/js_core/log/log.js"),a=function(e){var t=-1,o=-1;try{var s=T.cookie.get("BAIDUID");t=parseInt(s.substring(0,6),16),o=t%(e||10)+1}catch(n){console.log("ABtestTool ERROR",n)}return o},u={setQueryFlag:0,run:function(){var e=this,t=$("#kw"),o=n.getJSON("set_query_small_flow"),u=s.getEssQuery(),c=a(100);$.when(o,u).done(function(o,s){var n=o[0]||{},a=n.status||{};
if(0===a.code){var u=(n.data||{}).form_data||{},i=u.pc||{},l=i.testFlow||0,g=T.url.getQueryValue(location.href,"__essQueryFlag__");c>0&&l>=c||1===+g?e.setQueryFlag=1:(c>l&&2*l>=c||2===+g)&&(e.setQueryFlag=2),r.xsend(1,102494,{index:e.setQueryFlag}),t.val()||"fengchao_no_query_search_default_query"===s||1!==+e.setQueryFlag||(t.val(s).data("autoQuery","1"),t.on("focus",function(){t.data("autoQuery","0")}))}}),this.bindEvent()},bindEvent:function(){var e=this;$(document).on("click",".s_btn",function(){r.xsend(1,102495,{index:e.setQueryFlag})
})}};o.exports=u});
;define("wkcommon:widget/header/search_box/sug.js",function(e,t,a){var i=e("wkcommon:widget/ui/js_core/log/log.js"),r=function(){this.$searchBox=$("#kw"),this.initValue=this.$searchBox.val(),this.pageFr="",this.preQuery="",this.timeStamper=0,this.cacheFcData=[],this.eid={home:2017110201,search:2017110202,view:2017110203,other:2017110201},this.ctjID={home:101351,search:101352,view:101353},this.init()};r.prototype={init:function(){var e=this,t=location.pathname,a=["search","view","home"];$.each(a,function(a,i){return t.indexOf("/"+i)>-1?(e.pageFr=i,!1):"home"===i?(e.pageFr="home",!1):void 0
}),this.bindEvent()},getFcData:function(e){var t=this,a=$.Deferred(),i=(new Date).getTime();return i-t.timeStamper>100?(t.timeStamper=i,t.requestData(a,e)):a.resolve(t.cacheFcData),a.promise()},requestData:function(e,t){var a=this,i=t.s||[],r=$("#kw").val()||"",n={from:a.pageFr,eid:a.eid[a.pageFr],url:location.href,refer:document.referrer||"",pre_query:i[0]||a.preQuery,query:r};$.ajax({url:"/xpage/interface/pcsug",type:"GET",data:n}).done(function(t){var r=t;r=a.formatData(t),a.preQuery=i[0],a.cacheFcData=r,e.resolve(r)
}).fail(function(){a.preQuery=i[0],e.resolve({})})},formatData:function(e){var t=e.data||{},a=[];if(0===e.status.code){try{t.ad_list.length&&(a=JSON.parse(t.ad_list[0].ad_place_data))}catch(i){}return a}},bindEvent:function(){var e=this;$("body").on("click",".sug-fc",function(){e.$searchBox.val(e.initValue),setTimeout(function(){$(".tangram-suggestion-main").hide()},200)}),$(window).on("fcSugLog",function(t,a){e.sendLog(a)})},sendLog:function(e){var t=this,a=t.ctjID[t.pageFr];i.xsend(1,a,{index:e.index,from:t.pageFr})
}},a.exports=r});
;define("wkcommon:widget/feedback/feedback.js",function(){var e={loadRightBar:function(){var e=function(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var e={needImage:!0,upload_file:!0,appid:222085,productLine:4,wenjuanTitle:"",wenjuanURL:"",issuePlaceholder:"\u8bf7\u8f93\u5165\u95ee\u9898\u63cf\u8ff0",contactPlaceholder:"\u8bf7\u8f93\u5165\u90ae\u4ef6\u3001\u624b\u673a\u53f7\u7801\u6216QQ\u53f7\u7801\u4efb\u610f\u4e00\u79cd\u8054\u7cfb\u65b9\u5f0f",showPosition:"center",contactWayType:"contact_way",needContactWay:!0,needHotQuestion:!0,needQuestionnaire:!1,needFeedbackType:!1,needProductType:!1,needEvaluate:!0,typeArray:[],titleBgColor:"#26A87C",buttonColor:"#26A87C",mainFontColor:"#151515",secondaryFontColor:"#999999",titleColor:"#FFFFFF",hotQuestionArray:[{id:34,question:"\u5982\u4f55\u83b7\u5f97\u4e0b\u8f7d\u5238\uff08\u79ef\u5206\uff09\uff1f"},{id:33,question:"\u4e3e\u62a5\u8fdd\u89c4\u6587\u6863"},{id:32,question:"\u6587\u6863\u5ba1\u6838\u8fdb\u5ea6\u67e5\u8be2"},{id:31,question:"\u6587\u6863\u65e0\u6cd5\u4e0b\u8f7d\uff1f"},{id:30,question:"\u81ea\u52a8\u7eed\u8d39\u5982\u4f55\u5173\u95ed\uff1f"}]};
bds.qa.ShortCut.initRightBar(e);var t={};bds.qa.ShortCut._getProData(t)}},t=function(e,t,a){if(!document.getElementById("feedback_script")){var n=document.createElement("script"),a=a||{};n.type="text/javascript",a.charset&&(n.charset=a.charset),a.id&&(n.id=a.id),n.readyState?n.onreadystatechange=function(){("loaded"===n.readyState||"complete"===n.readyState)&&(n.onreadystatechange=null,t())}:n.onload=function(){t()},n.src=e,document.body.appendChild(n)}};return window.bds&&window.bds.qa&&window.bds.qa.ShortCut?e():t("https://ufosdk.baidu.com/Public/feedback/js/dist/feedback_plugin_2.0.js",function(){e()
},{charset:"utf-8",id:"feedback_script"}),!1}};return e});
;define("wkcommon:widget/sessionX/sessionX.js",function(t,e,n){var i=t("wkcommon:widget/ui/lib/jquery/jquery.js"),s=t("wkcommon:widget/lib/third_party/md5/md5.js"),r=t("wkcommon:widget/ui/js_core/log/log.js"),o=function(t){this.data=t||{}};o.prototype={constructor:o,data:{},set:function(t){return this.data=t,this},get:function(){return this.data},setItem:function(t,e){return this.data[t]=e,this},getItem:function(t){return this.data[t]},toString:function(){return"lifeInfo: "+JSON.stringify(this.data)
}};var a=function(t){this.data=t||{}};a.prototype={constructor:a,data:{},set:function(t){return this.data=t,this},get:function(){return this.data},setItem:function(t,e){return this.data[t]=e,this},getItem:function(t){return this.data[t]},toString:function(){return"urlParam: "+JSON.stringify(this.data)}};var f=function(t,e){t instanceof a||(t=new a),e instanceof o||(e=new o),this.urlParam=t,this.lifeInfo=e};f.prototype={constructor:f,urlParam:{},lifeInfo:{},get:function(){return{urlParam:this.urlParam.get(),lifeInfo:this.lifeInfo.get()}
},setUrlParm:function(t){return t instanceof a?(this.urlParam=t,this):void 0},setLifeInfo:function(t){t instanceof o&&(this.lifeInfo=t)},getUrlParm:function(){return this.urlParam},getLifeInfo:function(){return this.lifeInfo},toString:function(){return[this.urlParam.toString(),this.lifeInfo.toString()].join("; ")}};var u=function(){this.syncFromStorage(),this.updateStorage()};u.prototype={constructor:u,mapSessionEntry:{},mapPageLifeKey:{},session:{},getSessionItem:function(t){return this.session[t]
},setSessionItem:function(t,e){this.session[t]=e,this.updateStorage()},getMapSessionEntry:function(){return this.mapSessionEntry},getMapSessionEntryItem:function(t){return this.mapSessionEntry[t]},setMapSessionEntryItem:function(t,e){e instanceof f&&(this.mapSessionEntry[t]=e,this.updateStorage())},removeMapSessionEntryItem:function(t){delete this.mapSessionEntry[t],this.updateStorage()},removeAllMapSessionEntry:function(){this.mapSessionEntry={},this.updateStorage()},getMapPageLifeKeyItem:function(t){return this.mapPageLifeKey[t]
},setMapPageLifeKeyItem:function(t,e){this.mapPageLifeKey[t]=e,this.updateStorage()},removeMapPageLifeKeyItem:function(t){delete this.mapPageLifeKey[t],this.updateStorage()},createUrlParam:function(t,e){var n,r={sxts:+new Date};n=e.indexOf("?")>-1?e+"&"+i.param(r):e+"?"+i.param(r);var o=s(n),u=new a(t),m=new f(u);return this.setMapSessionEntryItem(o,m),n},getUrlParam:function(){var t=s(window.location.href),e=this.getMapSessionEntryItem(t);if(void 0===e||!(e instanceof f))return{};var n=e.getUrlParm();
return void 0!==n&&n instanceof a?n.get():{}},syncFromStorage:function(){var t=sessionStorage.getItem("SessionX");if(t){var e=JSON.parse(t),n=e.mapSessionEntry;for(var i in n){if(!n.hasOwnProperty(i))return;var s=e.mapSessionEntry[i],r=new a(s.urlParam),u=new o(s.lifeInfo);this.mapSessionEntry[i]=new f(r,u)}this.mapPageLifeKey=e.mapPageLifeKey||{},this.session=e.session||{}}},updateStorage:function(){var t={};for(var e in this.mapSessionEntry)if(this.mapSessionEntry.hasOwnProperty(e)){var n=this.mapSessionEntry[e];
t[e]=n.get()}var i={mapSessionEntry:t,mapPageLifeKey:this.mapPageLifeKey,session:this.session};try{sessionStorage.setItem("SessionX",JSON.stringify(i))}catch(s){r.xsend(1,101578),console.error(s)}}};var m=new u,c={init:function(){this.pureSessionX().bindMousedown()},pureSessionX:function(){var t=s(window.location.href),e=m.getMapSessionEntryItem(t);return void 0!==e&&e instanceof f?(m.removeAllMapSessionEntry(),m.setMapSessionEntryItem(t,e),this):this},bindMousedown:function(){return i(window).on("mousedown",".sessionX",function(){var t=i(this),e=t.data(),n=JSON.parse(e.sessionXSession)||{},s=JSON.parse(e.sessionXUrlParam)||{};
i.each(n,function(t,e){m.setSessionItem(t,e)});var r=t.prop("href"),o=m.createUrlParam(s,r);t.prop("href",o)}),this}};c.init(),n.exports={LifeInfo:o,UrlParam:a,SessionEntry:f,sessionXMgr:m}});
;define("wkcommon:widget/performance/performance.js",function(e,n,o){var r=e("wkcommon:widget/ui/lib/jquery/jquery.js"),m=e("wkcommon:widget/ui/js_core/log/log.js"),i=e("wkcommon:widget/node_modules/@baidu/npm-wk-performance/index.js"),c=function(e){i.sendPerformanceLog(e,m.xsend,r)},d=function(){return i.getPerformanceTiming()};o.exports={sendPerformanceLog:c,getPerformanceTiming:d}});